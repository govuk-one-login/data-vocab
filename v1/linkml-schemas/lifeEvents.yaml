id: https://vocab.account.gov.uk/linkml/life-events-schema
name: lifeEvents
version: 1.0
description: >-
  Vocabulary for life events

prefixes:
  linkml: https://w3id.org/linkml/
  vc: https://www.w3.org/2018/credentials/v1/
  di_vocab: https://vocab.account.gov.uk/v1/
imports:
  - linkml:types
  - ./events
  - ./person
default_curi_maps:
  - semweb_context
default_prefix: di_vocab
default_range: string

types:
  isoDate:
    base: string
    uri: xsd:string
    pattern: "\\d{4}(?:-\\d{2}(?:-\\d{2})?)?"

classes:
  DeathRegistrationJWTClass:
    is_a: SETClass
    attributes:
      events:
        range: DeathRegistrationEventMappingClass
        required: true
  DeathRegistrationEventMappingClass:
    attributes:
      "deathRegistrationUpdate":
        range: DeathRegistrationEventClass
        required: true
        alias: "https://ssf.account.gov.uk/v1/deathRegistration"
  DeathRegistrationUpdateJWTClass:
    is_a: SETClass
    attributes:
      events:
        range: DeathRegistrationUpdateEventMappingClass
        required: true
  DeathRegistrationUpdateEventMappingClass:
    attributes:
      "deathRegistrationUpdate":
        range: DeathRegistrationUpdateEventClass
        required: true
        alias: "https://ssf.account.gov.uk/v1/deathRegistrationUpdate"
  DeathRegistrationEventClass:
    attributes:
      subject:
        range: PersonExtendedMatchingClass
    slots:
      - deathRegistrationID
      - deathDate
      - freeFormatDeathDate
      - deathRegistrationTime
  DeathRegistrationUpdateEventClass:
    attributes:
      subject:
        range: PersonExtendedMatchingClass
    slots:
      - deathRegistrationID
      - deathDate
      - freeFormatDeathDate
      - recordUpdateTime
  DeathDateClass:
    attributes:
      value:
        range: isoDate
    slots:
      - description
 
slots:
  deathDate:
    range: DeathDateClass
    slot_uri: schema:deathDate
  freeFormatDeathDate:
    description: Free format date of death of deceased person.
  deathRegistrationID:
    description: Registration ID on the RON system
    range: integer
  deathRegistrationTime:
    description: Date/time the death was registered, may be the same as the `toe` JWT claim
    range: StructuredDateTimeClass
  recordUpdateTime:
    description: Date/time the record was amended, may be the same as the `toe` JWT claim
    range: StructuredDateTimeClass
